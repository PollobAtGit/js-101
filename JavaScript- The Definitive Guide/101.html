<!DOCTYPE html>
<head>

    <style type="text/css">
        .reveal * {
            display: none;
        }

        .reveal *.handle {
            display: block;
        }
    </style>

    <script type="text/javascript">

        //POI: Array.prototype.length is NOT a function

        window.onload = function () {
            var elements = document.getElementsByClassName("reveal");
            for (var i = elements.length - 1; i >= 0; i = i - 1) {
                var currentElement = elements[i];
                var title = currentElement.getElementsByClassName("handle")[0];

                callBack(title, currentElement);

                /*
                 //POI: Following wont work because elt & title is not BOUND for the event handler
                 title.onclick = function() {
                 if (elt.className == "reveal") elt.className = "revealed";
                 else if (elt.className == "revealed") elt.className = "reveal";
                 }
                 */
            }
        };


        //POI: title & elt is bound here because function creates a block in JS
        function callBack(title, elt) {
            title.onclick = function () {
                if (elt.className == "reveal") elt.className = "revealed";
                else if (elt.className == "revealed") elt.className = "reveal";
            }
        }

    </script>

    <title></title>
</head>

<body>

<div class="reveal">
    <h1 class="handle">Click Here to Reveal Hidden Text</h1>

    <p>This paragraph is hidden. It appears when you click on the title.</p>
</div>

<div class="reveal">
    <h1 class="handle">Click Here to Reveal Hidden Text</h1>

    <p>This paragraph is hidden. It appears when you click on the title.</p>
</div>
</body>
</html>
